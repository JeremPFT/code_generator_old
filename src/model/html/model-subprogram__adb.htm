<HEAD><TITLE>model-subprogram.adb</TITLE></HEAD>
<BODY>
<HR><DIV ALIGN="center"><H1> File : model-subprogram.adb </H1></DIV><HR>
<PRE>
<b>with</b> Ada.Text_IO;

<b>package</b> <b>body</b> Model.Subprogram <b>is</b>

  <b>function</b> Create
    (Owner_Package  : <b>access</b> Package_Def.Object_T'Class;
     Name           : <b>in</b>     String;
     Of_Type        : <b>in</b>     String           := "";
     Is_Abstract    : <b>in</b>     Boolean          := False;
     Is_Separate    : <b>in</b>     Boolean          := False;
     Owned_Comments : <b>in</b>     Comment.Vector_T := Comment.Vectors.Empty_Vector)
    <b>return</b> <b>not</b> <b>null</b> <b>access</b> Object_T'Class
  <b>is</b>
    Of_Type_Val : <b>constant</b> <b>access</b> String :=
      (<b>if</b> Of_Type /= "" <b>then</b>
         <b>new</b> String'(Of_Type)
       <b>else</b> <b>null</b>);

    Obj_Subprogram : <b>constant</b> <b>access</b> Object_T :=
      <b>new</b> Object_T'(Named_Element.Object_T <b>with</b>
                    Owner_Package =&gt; Owner_Package,
                    Of_Type       =&gt; Of_Type_Val,
                    Is_Abstract   =&gt; Is_Abstract,
                    Is_Separate   =&gt; Is_Separate,
                    <b>others</b>        =&gt; &lt;&gt;);
  <b>begin</b>
    Obj_Subprogram.Set_Name (Name);
    <b>return</b> Obj_Subprogram;
  <b>end</b> Create;

  <b>procedure</b> Set_Type
    (Self  : <b>in</b> <b>out</b> Object_T;
     Value : <b>in</b>     String)
  <b>is</b>
  <b>begin</b>
    Self.Of_Type := <b>new</b> String'(Value);
  <b>end</b> Set_Type;

<b>begin</b>

  <b>declare</b>
    <b>package</b> T_IO <b>renames</b> Ada.Text_IO;

    Obj_Subprogram : <b>constant</b> <b>access</b> Object_T :=
      Create (Owner_Package =&gt; <b>null</b>,
              Name          =&gt; "subprogram_a");
  <b>begin</b>
    T_IO.New_Line;
    T_IO.Put_Line ("<FONT COLOR=green><EM>-----------------------------------");</EM></FONT>
    T_IO.Put_Line ("debut des tests de model.subprogram");
    T_IO.New_Line;
    T_IO.Put_Line ("subprogram créé : " &amp; Obj_Subprogram.Get_Name);

  <b>end</b>;

<b>end</b> Model.Subprogram;
</PRE></BODY></HTML>
