<HEAD><TITLE>model-package_def.adb</TITLE></HEAD>
<BODY>
<HR><DIV ALIGN="center"><H1> File : model-package_def.adb </H1></DIV><HR>
<PRE>
<b>with</b> Ada.Text_IO;

<b>package</b> <b>body</b> Model.Package_Def <b>is</b>

  <b>function</b> Create
    (Name           : <b>in</b>     String;
     Parent         : <b>access</b> Object_T'Class   := <b>null</b>;
     Owned_Comments : <b>in</b>     Comment.Vector_T :=
       Comment.Vectors.Empty_Vector)
    <b>return</b> <b>not</b> <b>null</b> <b>access</b> Object_T'Class
  <b>is</b>
    Obj_Package : <b>constant</b> <b>access</b> Object_T :=
      <b>new</b> Object_T'(Named_Element.Object_T <b>with</b>
                    <b>others</b> =&gt; &lt;&gt;);
  <b>begin</b>
    Obj_Package.Set_Name (Name);

    <FONT COLOR=green><EM>--  (new Object_T'(Name           =&gt; new String'(Name),</EM></FONT>
    <FONT COLOR=green><EM>--                 Parent         =&gt; Parent,</EM></FONT>
    <FONT COLOR=green><EM>--                 Qualified_Name =&gt;</EM></FONT>
    <FONT COLOR=green><EM>--                   new String'((if Parent /= null then</EM></FONT>
    <FONT COLOR=green><EM>--                                  Parent.Get_Qualified_Name &amp; "::" &amp; Name</EM></FONT>
    <FONT COLOR=green><EM>--                                else Name)),</EM></FONT>
    <FONT COLOR=green><EM>--                 Children         =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Public_Elements  =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Private_Elements =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Body_Local_Decl  =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Body_Public_Def  =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Body_Private_Def =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Body_Local_Def   =&gt; &lt;&gt;,</EM></FONT>
    <FONT COLOR=green><EM>--                 Owned_Comments   =&gt; Owned_Comments));</EM></FONT>

    <b>return</b> Obj_Package;
  <b>end</b> Create;

  <b>procedure</b> Set_Qualified_Name
    (Self  : <b>in</b> <b>out</b> Object_T;
     Value : <b>in</b> String)
  <b>is</b>
  <b>begin</b>
    Self.Qualified_Name := <b>new</b> String'(Value);
  <b>end</b> Set_Qualified_Name;

  <b>procedure</b> Add_Public_Subprogram
    (Self   : <b>in</b> <b>out</b>          Object_T;
     Object : <b>not</b> <b>null</b> <b>access</b> Subprogram.Object_T'Class)
  <b>is</b>
  <b>begin</b>
    Self.Public_Elements.Append (Object);
  <b>end</b> Add_Public_Subprogram;

<b>begin</b>

  <b>declare</b>
    <b>package</b> T_IO <b>renames</b> Ada.Text_IO;

    Obj_Package : <b>constant</b> <b>access</b> Object_T := Create
      (Name =&gt; "package_a");
  <b>begin</b>
    T_IO.New_Line;
    T_IO.Put_Line ("<FONT COLOR=green><EM>------------------------------------");</EM></FONT>
    T_IO.Put_Line ("debut des tests de model.package_def");
    T_IO.New_Line;
    T_IO.Put_Line ("package créé : " &amp; Obj_Package.Get_Name);
  <b>end</b>;

<b>end</b> Model.Package_Def;
</PRE></BODY></HTML>
